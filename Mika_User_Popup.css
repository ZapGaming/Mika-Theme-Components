/* --- BLUE ARCHIVE MIKA THEME VARIABLES --- */
:root {
  --mika-main-bg: rgba(255, 255, 255, 0.1); /* Very light, almost transparent */
  --mika-accent-color: #87CEEB; /* Sky Blue for highlights/halo */
  --mika-secondary-accent: #FFC0CB; /* Soft Pink */
  --mika-text-color: #FFFFFF;
  --mika-blur: 35px; /* Softer blur */
  --card-border-radius: 35px; /* More rounded, almost pill-like corners */
  --halo-glow-color: rgba(135, 206, 235, 0.6); /* Soft blue halo glow */
  --halo-size: 8px; /* Thickness of the halo effect */
}

/* --- ANIMATIONS --- */

/* 1. Glass Sheen/Reflection for Mica Effect */
@keyframes glass-sheen {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* 2. Soft Halo Pulse */
@keyframes halo-pulse {
  0% { box-shadow: 0 0 0px var(--halo-size) rgba(135, 206, 235, 0.2), 0 0 0px var(--halo-size) rgba(255, 192, 203, 0.1); }
  50% { box-shadow: 0 0 0px var(--halo-size) rgba(135, 206, 235, 0.4), 0 0 0px var(--halo-size) rgba(255, 192, 203, 0.2); }
  100% { box-shadow: 0 0 0px var(--halo-size) rgba(135, 206, 235, 0.2), 0 0 0px var(--halo-size) rgba(255, 192, 203, 0.1); }
}

/* --- MAIN PROFILE POPUP CONTAINER (The "Halo" container) --- */
.layer__59d0d .outer_c0bea0 {
  position: relative;
  overflow: hidden;
  z-index: 10; /* Ensure it's on top */
  
  min-height: 400px; /* Give it some vertical space */
  width: 320px; /* Fixed width for profile card feel */
  margin: 20px auto; /* Center the card */

  /* Mika Frosted Glass Base */
  background-color: var(--mika-main-bg);
  backdrop-filter: blur(var(--mika-blur)) saturate(180%);
  -webkit-backdrop-filter: blur(var(--mika-blur)) saturate(180%);
  
  border: 1px solid rgba(255, 255, 255, 0.4); /* Soft white border */
  border-radius: var(--card-border-radius); 

  /* Inner shadow for depth, no external glow for the main card itself */
  box-shadow: 
    inset 0 0 20px rgba(255, 255, 255, 0.3), /* Inner highlight */
    inset 0 0 10px rgba(0, 0, 0, 0.3);      /* Inner shadow */

  /* Glass Sheen Animation */
  background-image: linear-gradient(
      105deg,
      rgba(255, 255, 255, 0) 30%,
      rgba(255, 255, 255, 0.3) 50%, /* Stronger sheen */
      rgba(255, 255, 255, 0) 70%
  );
  background-size: 200% 100%; 
  animation: glass-sheen 8s linear infinite; /* Faster sheen */

  /* The Halo Effect - This uses box-shadow for a soft, encompassing glow */
  animation: halo-pulse 5s ease-in-out infinite alternate;

  transition: all 0.5s ease-in-out;
}

/* Hover Effect: Lift and intensify depth */
.layer__59d0d .outer_c0bea0:hover {
  transform: translateY(-8px) scale(1.02);
  border-color: rgba(255, 255, 255, 0.8);
  box-shadow: 
    inset 0 0 25px rgba(255, 255, 255, 0.4),
    inset 0 0 12px rgba(0, 0, 0, 0.4);
}

/* --- CUSTOM LAYOUT WITHIN THE MIKA CARD --- */

/* Reset Discord's header min-height and banner clip-path to fit our design */
.layer__59d0d .outer_c0bea0 .header__5be3e {
  min-height: 100px !important; /* Smaller header area */
  border-radius: var(--card-border-radius) var(--card-border-radius) 0 0;
  background: transparent; /* Let the main card background show through */
  padding-top: 20px; /* Space from top edge */
  display: flex;
  flex-direction: column;
  align-items: center; /* Center horizontally */
  justify-content: flex-start; /* Align avatar towards top */
  position: relative; /* For avatar positioning */
}

/* Hide or reset Discord's default banner properties for a cleaner look */
.layer__59d0d .outer_c0bea0 .header__5be3e > .mask__68edb {
  overflow: visible;
  min-height: unset !important;
  contain: unset;
  position: absolute; /* Allow banner to be absolutely positioned */
  width: 100%;
  height: 100%;
}
.layer__59d0d .outer_c0bea0 .header__5be3e > .mask__68edb .banner__68edb {
  /* Hide the banner image if you want a clean background */
  display: none; 
  /* Or style it differently if you want it behind Mika's elements */
  /*
  position: absolute;
  height: 100% !important;
  width: 100%;
  object-fit: cover;
  clip-path: none;
  -webkit-mask-image: none;
  mask-image: none;
  */
}
.layer__59d0d .outer_c0bea0 .header__5be3e > .mask__68edb > foreignObject {
  mask: none;
}

/* AVATAR - Centered at the top */
.layer__59d0d .outer_c0bea0 .avatar__75742 {
  position: relative; /* Make it relative to the header's flex context */
  top: unset !important; /* Remove old absolute positioning */
  left: unset !important; /* Remove old absolute positioning */
  margin-bottom: 15px; /* Space below avatar */
  z-index: 1; /* Ensure avatar is above other elements */
}
.layer__59d0d .outer_c0bea0 .avatar__75742 .avatarPopover__2d0ab {
  top: 0;
  left: 0;
}
.layer__59d0d .outer_c0bea0 .avatar__75742 .avatarPopover__2d0ab foreignObject {
  mask: none !important;
}
.layer__59d0d .outer_c0bea0 .mask__44b0c circle,
.layer__59d0d .outer_c0bea0 .mask__44b0c rect[fill=black] {
  display: none; /* Ensure no unwanted masks on avatar */
}

/* NAME, PRONOUNS, BADGES CONTAINER - Centered directly below avatar */
.layer__59d0d .outer_c0bea0 .container__63ed3 {
  position: relative; /* Relative to the header/flex flow */
  top: unset; /* Remove absolute positioning */
  left: unset; /* Remove absolute positioning */
  right: unset;
  bottom: unset;
  width: 100%;
  display: flex; /* Use flexbox for centering */
  flex-direction: column;
  align-items: center; /* Center items horizontally */
  justify-content: center;
  text-align: center;
  z-index: 2; /* Ensure it's above other elements */
  padding-bottom: 10px; /* Space before body content */
}

/* Adjustments for Username, Pronouns, Badges within their container */
.layer__59d0d .outer_c0bea0 .usernameRow__63ed3 {
  display: flex;
  flex-direction: column; /* Stack name and pronouns if present */
  align-items: center; /* Center text */
  gap: 2px;
  margin-bottom: 5px; /* Space below name/pronouns */
}
.layer__59d0d .outer_c0bea0 .usernameRow__63ed3 .clickableUsername__63ed3 {
  width: auto; /* Allow username to take natural width */
  color: var(--mika-text-color);
  font-size: 1.5em; /* Larger name */
  font-weight: 700;
  text-shadow: 0px 0px 8px rgba(135, 206, 235, 0.8); /* Subtle text glow */
}
.layer__59d0d .outer_c0bea0 .usernameRow__63ed3 .clickableUsername__63ed3 h1 {
  display: block;
  text-align: center;
}
.layer__59d0d .outer_c0bea0 .usernameRow__63ed3 .nicknameIcons__63ed3 {
  display: none; /* Hide default Discord edit icons */
}

/* Custom Badges Styling (Pill Shape with soft Mica look) */
.layer__59d0d .outer_c0bea0 .tags__63ed3 {
  display: flex;
  flex-wrap: wrap; /* Allow badges to wrap */
  justify-content: center; /* Center badges horizontally */
  gap: 8px; /* Space between badges */
  margin-top: 5px;
}
.layer__59d0d .outer_c0bea0 .tags__63ed3 .container__8061a {
  border: 1px solid rgba(255, 255, 255, 0.4); 
  background: rgba(255, 255, 255, 0.05); 
  backdrop-filter: blur(10px) saturate(150%); 
  -webkit-backdrop-filter: blur(10px) saturate(150%);
  border-radius: 9999px; /* Pill shape */
  padding: 4px 12px; 
  color: var(--mika-text-color);
  font-size: 0.8em;
  font-weight: 600;
  transition: all 0.3s ease-out;
  box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.2); /* Inner highlight */
}
.layer__59d0d .outer_c0bea0 .tags__63ed3 .container__8061a:hover {
  transform: translateY(-2px) scale(1.05); 
  background: rgba(255, 255, 255, 0.15); 
  border-color: rgba(255, 255, 255, 0.6);
  box-shadow: 0 4px 10px rgba(var(--mika-accent-color), 0.3); /* Subtle external shadow on hover */
}
/* Ensure proper ordering of custom badges if present */
.layer__59d0d .outer_c0bea0 .tags__63ed3 .dotSpacer__63ed3,
.layer__59d0d .outer_c0bea0 .tags__63ed3 .clickableUsername__63ed3,
.layer__59d0d .outer_c0bea0 .tags__63ed3 .guildTagContainer__63ed3 {
  order: unset; /* Remove previous order rules */
}


/* SUB CONTAINER LAYERING: Body Content Area (for additional content below name/badges) */
.layer__59d0d .outer_c0bea0 .body__5be3e,
.layer__59d0d .outer_c0bea0 .body_ce8328 {
  position: relative;
  background-color: rgba(255, 255, 255, 0.05); 
  border-radius: 0 0 25px 25px; /* Curves only at the bottom */
  margin: 0 16px 16px 16px; 
  padding: 16px; 
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.2); 
  color: var(--mika-text-color);
}

/* Reset Discord's wrapper for flex direction */
.layer__59d0d .outer_c0bea0 .wrapper__4106a {
  flex-direction: column;
}

/* Ensure inner elements like text don't break the layout */
.layer__59d0d .outer_c0bea0 .container_ab8609 > .outer_ab8609 > .inner_ab8609 > .content_ab8609 .text-sm\/normal_cf4812 {
  white-space: normal; /* Allow text to wrap */
  text-overflow: unset;
  max-width: unset;
}
```EOF

### Key Changes for the "Mika Blue Archive Halo" Effect:

1.  **Variables:** New color variables (`--mika-main-bg`, `--mika-accent-color`, `--mika-secondary-accent`, `--halo-glow-color`) to capture Mika's aesthetic.
2.  **`outer_c0bea0` (Main Card):**
    * **Mika Frosted Glass:** Adjusted `background-color`, `backdrop-filter`, `border`, and `box-shadow` for a lighter, cleaner glass look.
    * **Glass Sheen Animation:** Remains but with slightly adjusted colors for the new aesthetic.
    * **The "Halo":** This is achieved with `animation: halo-pulse`. It uses `box-shadow` with two subtle, soft blue and pink colors that gently pulse, creating that ethereal "halo" effect around the entire card.
    * `min-height` and `width`: Added for a more controlled profile popup size.
3.  **Layout Fixes (Aggressive Refactor):**
    * I've stripped down and re-applied `display: flex`, `flex-direction: column`, and `align-items: center` to the `.header__5be3e` and `.container__63ed3` classes. This forces these elements into a top-to-bottom, horizontally centered layout within *our* custom card, overriding Discord's default.
    * `position: relative` is used on these containers, and `top: unset`, `left: unset` on elements like `avatar__75742` and `container__63ed3` ensure they are positioned by the flex rules, not by old absolute values.
4.  **Avatar (`avatar__75742`):** Now explicitly centered within the header's flex container.
5.  **Name/Pronouns (`usernameRow__63ed3`):** Also flex-centered and given `text-shadow` for a subtle, internal glow (not an external glow from the card itself). Font size is increased for prominence.
6.  **Badges (`tags__63ed3 .container__8061a`):** Pill-shaped, with Mica-style transparency and a subtle internal highlight, plus a faint shadow on hover.
7.  **Body Content (`body__5be3e`):** Retains its nested Mica effect, now with rounded corners only at the bottom, creating a distinct sub-container.

This CSS should give you a beautiful, functional "Blue Archive Mika" themed profile popup with a halo, and all your elements correctly positioned! http://googleusercontent.com/image_generation_content/1
